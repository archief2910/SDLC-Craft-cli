spring:
  application:
    name: sdlcraft-backend
  
  datasource:
    url: jdbc:h2:mem:sdlcraft
    username: sa
    password: 
    driver-class-name: org.h2.Driver
  
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: false
    properties:
      hibernate:
        dialect: org.hibernate.dialect.H2Dialect
        format_sql: true
        jdbc:
          time_zone: UTC
  
  flyway:
    enabled: false

server:
  port: 8080
  error:
    include-message: always
    include-binding-errors: always

logging:
  level:
    com.sdlcraft: INFO
    org.springframework: WARN
    org.hibernate: WARN
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"

# Application-specific configuration
sdlcraft:
  agent:
    timeout-seconds: 300
    max-concurrent-executions: 10
  
  memory:
    retention-days: 90
  
  policy:
    require-confirmation-for-high-risk: true
  
  llm:
    openrouter:
      api-key: ${OPENROUTER_API_KEY:}
      model: mistralai/devstral-2512:free
  
  vector-store:
    pinecone:
      api-key: ${PINECONE_API_KEY:}
      environment: ${PINECONE_ENVIRONMENT:us-east-1}
      index: ${PINECONE_INDEX:sdlcraft-index}
      
  rag:
    context-chunks: 5
    max-context-length: 8000

# Enable actuator endpoints
management:
  endpoints:
    web:
      exposure:
        include: health,info
  endpoint:
    health:
      show-details: always
